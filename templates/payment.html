{% extends "base.html" %}

{% block title %}Complete Your Order{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card">
            <div class="card-body">
                <h2 class="text-center mb-4">Complete Your Order</h2>
                
                <div class="alert alert-info">
                    <strong>Demo Mode:</strong> This is a mock payment page. Click "Pay Now" to simulate payment and see your order confirmation.
                </div>

                <div class="order-summary mb-4">
                    <h4>Order Summary - {{ store.name }}</h4>
                    <div class="d-flex justify-content-between mb-2">
                        <span>Subtotal:</span>
                        <span>${{ "%.2f"|format(store.total_price) }}</span>
                    </div>
                    <div class="d-flex justify-content-between mb-2">
                        <span>Delivery Fee:</span>
                        <span>$4.99</span>
                    </div>
                    <div class="d-flex justify-content-between mb-2">
                        <span>Tax (8%):</span>
                        <span>${{ "%.2f"|format(store.total_price * 0.08) }}</span>
                    </div>
                    <hr>
                    <div class="d-flex justify-content-between">
                        <strong>Total:</strong>
                        <strong>${{ "%.2f"|format(store.total_price * 1.08 + 4.99) }}</strong>
                    </div>
                </div>

                <div class="delivery-info mb-4">
                    <h4>Delivery Information</h4>
                    <p class="text-muted">Estimated delivery time: {{ store.eta }}</p>
                    <p class="text-muted">Distance: {{ store.distance }} miles</p>
                </div>

                <div class="text-center">
                    <a href="{{ url_for('confirm', store_id=store.id) }}" class="btn btn-success btn-lg">
                        Pay Now ${{ "%.2f"|format(store.total_price * 1.08 + 4.99) }}
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
